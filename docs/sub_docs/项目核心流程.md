
## 🎮 项目核心流程

1. 用户输入 2050 ID 登录系统
2. 线下两人“看对眼”后，在系统中配对为对手，通过双方输入对方的id进行匹配
3. 比赛共 3 轮，每轮 3 道题。开始前双方互相为对方选择题目难度（易/中/难）==这里有点没有理解。是每轮的3道题每一题都要选（易/中/难）三个难度，还是说只要为每轮的3题选一个整体的（易/中/难）难度？==
4. 等待对方出题 → 双方都选好题后，界面提示“对手已出好题”，双方点击“开始本轮”
5. 答题阶段 → 后端核对答案 → 返回得分，并更新积分与题量
6. 比赛结束后显示结果页面：展示当前用户得分与奖励情况；通过 WebSocket 同步胜负信息（不展示对方总得分）
7. 系统支持排行榜、奖励中心模块

---

## 🎲 题目抽取与作答流程（开发说明）

在对手完成题目难度设定后，答题方进入抽题环节，具体交互逻辑如下：

### 1. 抽题界面交互逻辑

- 页面整体保持稳定，仅中央区域的文字内容（题目）以固定节奏快速切换。
    每轮开始时，前端通过接口一次性拉取 50 道符合难度的题目，用于本地展示。  
    播放顺序在前端打乱，每 0.1 秒切换一道题。  
    用户在任意时刻 **点击屏幕**，即可锁定当前正在显示的题目：
- 每次点击锁定一道题；
- 总共需选出三道题；
- 已锁定的题目将从当前播放队列中移除；
- 若用户在整轮播放中未点击锁定，则自动选择播放的最后一道题作为锁定题；
- 系统随后重新播放剩余题目，直至选满三题。

### 2. 题目来源

- 所有抽取题目均来自对手为当前用户选择的 **特定难度题库**；
- 前端通过接口 `GET /questions/pool?difficulty=...` 每轮请求时一次性返回 50 道随机题目，前端本地打乱顺序进行滚动播放与抽取。系统会自动排除当前用户已做过的题目。

### 3. 题目锁定后流程

- 当用户锁定三道题后：
    - 页面跳转至“开始作答”确认页面，展示三道题目的简要信息（如题号、标题等）；
    - 无需等待对方完成抽题，用户点击按钮即可进入作答页面。

### 4. 作答与提交流程

- 用户作答结束后，通过接口 `POST /match/:id/submit-answer` 提交答案；
- 后端根据答对的题数计算本轮得分，每答对一题获得 1 分；
    - 本轮最多可获得 3 分；
    - 即使输了整轮，只要答对题目也可得分；
- 系统会更新以下用户字段：
    - `totalScore`：累计答对题目数量（积分 = 答对题数）
    - `questionsCompleted`：累计完成题目数量（每轮固定增加 3）
- 后端同时判断是否解锁系统内的奖励：
    - 若 `questionsCompleted >= 270`，解锁“隐藏礼物”
    - 排行前三（大奖）由排行榜模块独立判断
- 奖励信息将包含在返回值中，前端无需重复判断



### 5. 界面与交互设计要求

- 题目文字居中显示，字体大小适中，**切换时无复杂动画，仅内容变化**，确保用户可以清晰读取题目内容。
- 每次成功点击锁定题目后，应有 **即时视觉反馈**（如轻微缩放、闪烁、打钩等），让用户明确识别该题目已被选中。